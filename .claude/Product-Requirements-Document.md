# QuiteNote 产品需求文档 (PRD)

> 版本：1.0
> 日期：2025-12-09
> 作者：Claude Code

## 文档修订记录

| 版本 | 修订日期 | 修订内容 | 修订人 |
|------|----------|----------|--------|
| 1.0 | 2025-12-09 | 初始版本 | Claude Code |

---

## 目录

1. [产品概述](#1-产品概述)
2. [产品愿景和目标](#2-产品愿景和目标)
3. [用户画像](#3-用户画像)
4. [核心功能模块](#4-核心功能模块)
   - [4.1 记录存储管理 (RecordStore)](#41-记录存储管理-recordstore)
   - [4.2 蓝牙连接管理 (BluetoothManager)](#42-蓝牙连接管理-bluetoothmanager)
   - [4.3 剪贴板监控 (ClipboardService)](#43-剪贴板监控-clipboardservice)
   - [4.4 AI提炼服务 (AIService)](#44-ai提炼服务-aiservice)
   - [4.5 悬浮窗控制器 (FloatingPanelController)](#45-悬浮窗控制器-floatingpanelcontroller)
   - [4.6 状态栏控制器 (StatusBarController)](#46-状态栏控制器-statusbarcontroller)
   - [4.7 热力图视图 (HeatmapView)](#47-热力图视图-heatmapview)
   - [4.8 设置界面 (SettingsOverlayView)](#48-设置界面-settingsoverlayview)
   - [4.9 偏好设置管理 (PreferencesManager)](#49-偏好设置管理-preferencesmanager)
   - [4.10 快捷键管理 (KeyboardShortcutManager)](#410-快捷键管理-keyboardshortcutmanager)
5. [非功能性需求](#5-非功能性需求)
6. [用户界面需求](#6-用户界面需求)
7. [数据管理需求](#7-数据管理需求)
8. [集成需求](#8-集成需求)
9. [性能需求](#9-性能需求)
10. [安全需求](#10-安全需求)
11. [测试需求](#11-测试需求)
12. [发布计划](#12-发布计划)
13. [风险评估](#13-风险评估)
14. [附录](#14-附录)

---

## 1. 产品概述

### 1.1 产品简介

**QuiteNote** 是一款专为 macOS 设计的智能剪贴板管理工具。它通过蓝牙硬件按钮实现一键采集剪贴板内容，结合 AI 技术对内容进行智能提炼和总结，为用户提供高效、便捷的知识管理解决方案。

### 1.2 产品特色

- **硬件集成**：支持蓝牙硬件按钮，一键采集
- **AI 智能**：本地 + 云端 AI 双模式，智能提炼内容
- **悬浮窗设计**：轻量级悬浮窗，快速访问和管理
- **数据可视化**：热力图展示使用频率
- **主题系统**：完整的主题定制系统

### 1.3 目标用户

- **知识工作者**：需要频繁收集和整理信息的专业人士
- **开发者**：需要管理代码片段和文档的技术人员
- **设计师**：需要收集灵感和素材的创意工作者
- **学生**：需要整理学习资料和笔记的学生群体
- **研究人员**：需要管理文献和研究数据的学者

### 1.4 核心价值

1. **提升效率**：一键采集，减少手动操作
2. **智能管理**：AI 自动提炼，快速获取要点
3. **便捷访问**：悬浮窗设计，随时查看和管理
4. **数据洞察**：可视化分析，了解使用习惯

---

## 2. 产品愿景和目标

### 2.1 产品愿景

成为 macOS 平台上最受欢迎的智能剪贴板管理工具，为用户提供最便捷、最智能的知识管理体验。

### 2.2 短期目标 (3-6个月)

- 完成核心功能开发和测试
- 实现稳定的蓝牙连接和数据采集
- 完善 AI 提炼功能
- 优化用户体验和界面设计

### 2.3 长期目标 (1-2年)

- 支持多设备同步
- 扩展更多 AI 服务提供商
- 实现云存储和备份
- 建立用户社区和生态系统

---

## 3. 用户画像

### 3.1 典型用户画像

#### 用户画像 1：程序员小明

- **年龄**：28岁
- **职业**：软件工程师
- **使用场景**：
  - 开发时快速收集代码片段
  - 技术文档和 API 文档的整理
  - 项目资料的分类管理
- **核心需求**：
  - 高效的代码片段管理
  - 快速搜索和访问
  - 与开发工具集成

#### 用户画像 2：设计师小红

- **年龄**：26岁
- **职业**：UI/UX 设计师
- **使用场景**：
  - 设计灵感和素材的收集
  - 客户反馈的整理
  - 设计规范的管理
- **核心需求**：
  - 视觉化的内容展示
  - 灵活的分类和标签
  - 与设计工具的集成

#### 用户画像 3：学生小李

- **年龄**：22岁
- **职业**：大学生
- **使用场景**：
  - 课程笔记和资料的整理
  - 论文和参考文献的管理
  - 学习资源的收藏
- **核心需求**：
  - 简单易用的界面
  - 强大的搜索功能
  - 导出和分享功能

---

## 4. 核心功能模块

### 4.1 记录存储管理 (RecordStore)

#### 4.1.1 功能概述

RecordStore 是应用的核心数据管理模块，负责所有记录的存储、检索、更新和删除操作。

#### 4.1.2 详细功能需求

**4.1.2.1 基础数据操作**

- **新增记录**
  - 支持从剪贴板自动采集
  - 支持手动添加
  - 自动生成唯一 ID
  - 记录采集时间戳
  - 计算内容 SHA1 哈希值
  - 自动检测重复内容（10分钟内）

- **查询记录**
  - 按 ID 精确查询
  - 按时间范围查询
  - 按星标状态筛选
  - 按 AI 处理状态筛选

- **更新记录**
  - 更新标题
  - 更新内容
  - 更新星标状态
  - 更新 AI 总结
  - 更新时间戳

- **删除记录**
  - 单条记录删除
  - 批量删除
  - 清空所有记录
  - 回收站功能（可选）

**4.1.2.2 搜索功能**

- **全文搜索**
  - 支持标题、内容、AI总结字段搜索
  - 支持大小写敏感/不敏感搜索
  - 支持正则表达式搜索
  - 实时搜索结果展示
  - 搜索历史记录

- **高级搜索**
  - 组合条件搜索
  - 时间范围过滤
  - 星标状态过滤
  - AI处理状态过滤

**4.1.2.3 AI 协调功能**

- **AI 提炼触发**
  - 自动触发：新记录达到阈值（默认10条）
  - 手动触发：用户主动触发
  - 批量触发：选择多条记录批量处理

- **AI 服务管理**
  - 本地规则模式
  - OpenAI API 模式
  - 服务切换和配置
  - API 连接测试

- **结果处理**
  - AI 结果解析
  - JSON 结构化输出
  - 结果验证和错误处理
  - 结果更新到记录

**4.1.2.4 数据持久化**

- **CoreData 集成**
  - 本地数据存储
  - 数据模型定义
  - 增量同步
  - 数据迁移

- **导出功能**
  - Markdown 格式导出
  - 选择性导出（按时间、星标等）
  - 批量导出

**4.1.2.5 通知系统**

- **Toast 消息**
  - 成功消息
  - 错误消息
  - 警告消息
  - 信息消息
  - 自动消失（3秒）

- **LightHint 消息**
  - 轻量级提示
  - 状态更新提示
  - 操作反馈

#### 4.1.3 业务流程

**新增记录流程**
```
1. 接收新内容
2. 计算 SHA1 哈希
3. 检查10分钟内是否重复
4. 如果重复：更新时间戳和星标
5. 如果不重复：创建新记录
6. 添加到内存数组
7. 同步到 CoreData
8. 触发 AI 提炼检查
9. 发送通知更新 UI
```

**搜索流程**
```
1. 用户输入搜索关键词
2. 应用搜索选项（大小写、正则等）
3. 在内存中执行搜索
4. 过滤结果（时间、星标等）
5. 更新搜索历史
6. 返回搜索结果
7. UI 展示结果
```

#### 4.1.4 数据结构

```swift
struct Record {
    let id: String
    var title: String
    var content: String
    var timestamp: Date
    var sha1: String
    var isStarred: Bool
    var aiSummary: String?
    var isAiProcessed: Bool
    var aiProvider: String?
}
```

#### 4.1.5 交互规则

- **去重规则**：相同 SHA1 哈希且时间差小于10分钟视为重复
- **AI 触发规则**：新增记录数达到阈值（默认10条）自动触发
- **数据同步规则**：内存数据变更后异步同步到 CoreData
- **通知频率**：避免频繁通知，使用节流机制

#### 4.1.6 潜在问题和优化建议

**已识别问题**
1. 搜索性能：大量记录时实时搜索可能卡顿
2. 内存管理：所有记录常驻内存，可能占用过多
3. 错误处理：AI服务失败时缺乏降级策略

**优化建议**
1. 实现搜索结果缓存和节流
2. 使用虚拟化技术优化大量记录展示
3. 增强错误处理和重试机制

---

### 4.2 蓝牙连接管理 (BluetoothManager)

#### 4.2.1 功能概述

BluetoothManager 负责管理与蓝牙硬件按钮的连接，处理硬件事件，并将其转换为应用内的操作。

#### 4.2.2 详细功能需求

**4.2.2.1 蓝牙连接管理**

- **设备扫描**
  - 扫描周围蓝牙设备
  - 过滤特定 GATT 服务
  - 显示扫描结果列表
  - 支持手动刷新扫描

- **设备连接**
  - 连接指定蓝牙设备
  - 断开连接
  - 自动重连机制
  - 连接状态监控

- **服务发现**
  - 发现 GATT 服务
  - 发现服务特征
  - 验证服务 UUID
  - 验证特征 UUID

**4.2.2.2 事件处理**

- **按钮事件监听**
  - 监听 CHAR_BUTTON_EVT 特征通知
  - 解析事件类型（采集剪贴板、切换历史）
  - 事件去重（1秒防抖）
  - 事件分发

- **ACK 回写**
  - 接收事件后写入 ACK
  - ACK 数据格式：[0x06, 0x00, 0x00, 0x00]
  - ACK 写入确认

**4.2.2.3 设备管理**

- **设备列表**
  - 显示已发现设备
  - 显示连接状态
  - 显示信号强度
  - 支持设备重命名

- **连接配置**
  - 服务 UUID 配置
  - 特征 UUID 配置
  - 连接超时设置
  - 重连间隔设置

#### 4.2.3 业务流程

**设备连接流程**
```
1. 初始化 CBCentralManager
2. 等待蓝牙可用
3. 开始扫描设备
4. 发现包含目标服务的设备
5. 停止扫描
6. 连接设备
7. 等待连接成功
8. 发现服务
9. 发现特征
10. 订阅通知
11. 订阅 ACK 特征
12. 连接完成
```

**事件处理流程**
```
1. 接收 CHAR_BUTTON_EVT 通知
2. 解析事件数据
3. 检查是否在防抖期内（1秒）
4. 如果在防抖期：忽略
5. 如果不在防抖期：
   - 记录最后事件时间
   - 根据事件类型分发
   - 采集剪贴板 或 切换历史
   - 写入 ACK
```

#### 4.2.4 数据结构

```swift
struct Device {
    let id: UUID
    let name: String?
    let rssi: NSNumber?
    var isConnected: Bool
    var isConnecting: Bool
    var peripheral: CBPeripheral?
}
```

#### 4.2.5 交互规则

- **UUID 规范**：
  - 服务 UUID：0x180F
  - 采集特征：0x2A19
  - 切换特征：0x2A1A
  - ACK 特征：0x2A1B

- **事件类型**：
  - 0x01：采集剪贴板
  - 0x02：切换历史

- **防抖机制**：1秒内只响应一次事件

#### 4.2.6 潜在问题和优化建议

**已识别问题**
1. 硬编码 UUID：不便于扩展和测试
2. 连接失败处理不完善
3. 多设备连接支持不足

**优化建议**
1. 将 UUID 配置化，支持自定义
2. 增强连接失败的错误处理和重试
3. 支持多设备同时连接和管理

---

### 4.3 剪贴板监控 (ClipboardService)

#### 4.3.1 功能概述

ClipboardService 负责监控系统剪贴板的变化，当检测到新内容时进行采集和处理。

#### 4.3.2 详细功能需求

**4.3.2.1 剪贴板监控**

- **变化监听**
  - 监听 NSPasteboard 的 changeCount
  - 检测剪贴板内容变化
  - 过滤无效变化（如格式变化）

- **内容采集**
  - 读取纯文本内容
  - 过滤空内容和空白字符
  - 计算 SHA1 哈希
  - 生成标题（前50字符）

**4.3.2.2 内容处理**

- **内容验证**
  - 检查是否为空
  - 检查是否为纯文本
  - 检查是否包含有效字符

- **数据转换**
  - 文本格式标准化
  - 特殊字符处理
  - 编码转换

#### 4.3.3 业务流程

**剪贴板监控流程**
```
1. 初始化 NSPasteboard
2. 记录初始 changeCount
3. 启动监控定时器（1秒间隔）
4. 检查 changeCount 是否变化
5. 如果变化：
   - 读取剪贴板内容
   - 验证内容有效性
   - 发送采集通知
6. 更新 changeCount
7. 继续监控
```

#### 4.3.4 交互规则

- **监控频率**：1秒检查一次
- **内容过滤**：只处理纯文本，忽略图片、文件等
- **空内容处理**：空内容或纯空白不采集
- **通知机制**：通过 NSNotification 发送采集事件

#### 4.3.5 潜在问题和优化建议

**已识别问题**
1. 轮询方式耗电
2. 无法实时响应
3. 权限检查不足

**优化建议**
1. 使用 NSPasteboardWatcher 协议实现实时监听
2. 添加剪贴板访问权限检查
3. 优化监控频率，根据活跃度调整

---

### 4.4 AI 提炼服务 (AIService)

#### 4.4.1 功能概述

AIService 提供统一的 AI 内容提炼接口，支持本地规则和 OpenAI API 两种模式。

#### 4.4.2 详细功能需求

**4.4.2.1 AI 服务接口**

- **协议定义**
  - 提供统一的提炼接口
  - 支持多种服务实现
  - 统一的错误处理

- **服务注册**
  - 注册本地服务
  - 注册云端服务
  - 服务优先级设置

**4.4.2.2 本地规则模式**

- **规则引擎**
  - 关键词提取
  - 摘要生成
  - 标题生成
  - 分类识别

- **处理逻辑**
  - 文本预处理
  - 规则匹配
  - 结果生成
  - 格式化输出

**4.4.2.3 OpenAI API 模式**

- **API 集成**
  - API Key 管理（Keychain 存储）
  - 请求构建
  - 响应解析
  - 错误处理

- **模型配置**
  - 模型选择（gpt-3.5-turbo, gpt-4 等）
  - 温度参数设置
  - 最大 token 数设置
  - 系统提示词配置

- **请求管理**
  - 请求队列
  - 超时控制（5秒）
  - 重试机制
  - 限流控制

**4.4.2.4 结果处理**

- **响应解析**
  - JSON 格式验证
  - 字段提取
  - 错误信息处理

- **结果验证**
  - 字段完整性检查
  - 内容合理性检查
  - 长度限制验证

#### 4.4.3 业务流程

**AI 提炼流程**
```
1. 接收待处理内容
2. 检查当前服务模式
3. 如果是本地模式：
   - 执行本地规则引擎
   - 生成提炼结果
4. 如果是云端模式：
   - 构建 API 请求
   - 发送 HTTP 请求
   - 等待响应（最多5秒）
   - 解析响应结果
   - 如果超时：降级到本地模式
5. 验证结果格式
6. 返回结构化结果
```

**API 连接测试流程**
```
1. 构建测试请求
2. 发送简单查询
3. 验证响应
4. 返回连接状态
```

#### 4.4.4 数据结构

```swift
struct AIResult {
    let title: String
    let summary: String
    let tags: [String]
    let category: String
}
```

#### 4.4.5 交互规则

- **超时降级**：云端服务超时5秒自动降级到本地
- **延迟加载**：API Key 延迟访问 Keychain
- **错误处理**：API 错误时提供详细错误信息
- **结果格式**：统一的 JSON 结构

#### 4.4.6 潜在问题和优化建议

**已识别问题**
1. API Key 硬编码在 Keychain
2. 缺乏结果缓存机制
3. 没有使用统计

**优化建议**
1. 支持多个 API Key 轮换使用
2. 实现结果缓存，避免重复处理
3. 添加 API 使用量统计和监控

---

### 4.5 悬浮窗控制器 (FloatingPanelController)

#### 4.5.1 功能概述

FloatingPanelController 管理悬浮窗的显示、隐藏、交互和动画效果，提供轻量级的用户界面。

#### 4.5.2 详细功能需求

**4.5.2.1 窗口管理**

- **窗口创建**
  - 创建 NSPanel 实例
  - 设置窗口样式（无边框、置顶）
  - 配置窗口层级
  - 设置透明度

- **窗口显示**
  - 动画显示（淡入 + 缩放）
  - 居中显示
  - 保持在最前端
  - 支持多显示器

- **窗口隐藏**
  - 动画隐藏（淡出）
  - 最小化到状态栏
  - 完全隐藏（Cmd+H）

**4.5.2.2 交互功能**

- **拖拽支持**
  - 自定义拖拽区域
  - 窗口跟随鼠标
  - 边界吸附
  - 拖拽锁定

- **悬停聚焦**
  - 鼠标悬停自动聚焦
  - 离开时保持焦点
  - 聚焦状态视觉反馈

- **键盘导航**
  - Tab 键导航
  - 方向键移动
  - Esc 键关闭
  - 快捷键支持

**4.5.2.3 动画效果**

- **显示动画**
  - 淡入效果（0.0 → 1.0）
  - 缩放效果（0.8 → 1.0）
  - 动画时长：0.2秒
  - 缓动函数：ease-out

- **隐藏动画**
  - 淡出效果（1.0 → 0.0）
  - 缩放效果（1.0 → 0.8）
  - 动画时长：0.2秒
  - 缓动函数：ease-in

- **拖拽反馈**
  - 拖拽时轻微缩放
  - 释放时回弹效果
  - 边界碰撞反馈

**4.5.2.4 状态管理**

- **窗口状态**
  - 显示/隐藏状态
  - 激活/非激活状态
  - 锁定/解锁状态
  - 最大化/最小化状态

- **用户偏好**
  - 窗口位置记忆
  - 窗口大小记忆
  - 动画开关设置

#### 4.5.3 业务流程

**显示悬浮窗流程**
```
1. 检查应用是否活跃
2. 如果不活跃：激活应用
3. 调用 show() 方法
4. 设置窗口 alpha 为 0.0
5. 设置窗口初始缩放 0.8
6. 显示窗口
7. 播放显示动画
8. 动画完成后设置为 key window
```

**隐藏悬浮窗流程**
```
1. 检查是否为主动隐藏
2. 如果是：标记为用户隐藏
3. 停止键盘监听
4. 播放隐藏动画
5. 动画完成后隐藏窗口
6. 清除 key window 状态
```

**拖拽流程**
```
1. 检测鼠标按下
2. 如果在拖拽区域：
   - 开始拖拽会话
   - 记录初始位置
   - 更新窗口位置
   - 检查边界
   - 应用吸附效果
3. 鼠标释放：
   - 结束拖拽
   - 保存最终位置
```

#### 4.5.4 交互规则

- **窗口层级**：NSFloatingWindowLevel + 1
- **透明度**：背景 70% 透明
- **置顶行为**：始终在最前端（除最小化外）
- **多显示器**：支持所有显示器显示
- **拖拽锁定**：可锁定防止意外移动

#### 4.5.5 潜在问题和优化建议

**已识别问题**
1. 窗口大小固定
2. 动画参数硬编码
3. 拖拽边界处理简单

**优化建议**
1. 支持窗口大小调整
2. 动画参数可配置
3. 改进边界吸附算法
4. 添加窗口阴影效果

---

### 4.6 状态栏控制器 (StatusBarController)

#### 4.6.1 功能概述

StatusBarController 管理状态栏图标和菜单，提供快速访问入口和系统状态显示。

#### 4.6.2 详细功能需求

**4.6.2.1 状态栏图标**

- **图标显示**
  - 显示应用图标
  - 支持亮色/暗色模式
  - 图标状态指示（连接状态、新记录）

- **点击行为**
  - 点击显示/隐藏悬浮窗
  - 右键显示菜单
  - 双击快速操作

**4.6.2.2 状态栏菜单**

- **快速操作**
  - 显示/隐藏悬浮窗
  - 打开设置
  - 退出应用

- **状态显示**
  - 蓝牙连接状态
  - 今日记录数
  - 最近记录预览
  - AI 服务状态

- **快捷入口**
  - 清空记录
  - 导出数据
  - 测试 AI 连接
  - 打开偏好设置

**4.6.2.3 通知和提示**

- **气泡提示**
  - 新记录提示
  - 连接状态变化
  - 错误警告
  - 成功反馈

- **声音提示**
  - 可选的声音反馈
  - 静音模式支持
  - 自定义声音

#### 4.6.3 业务流程

**菜单显示流程**
```
1. 用户点击状态栏图标
2. 构建菜单项
3. 显示菜单
4. 监听菜单选择
5. 执行对应操作
6. 隐藏菜单
```

#### 4.6.4 交互规则

- **图标状态**：
  - 连接成功：绿色边框
  - 连接失败：红色边框
  - 采集到内容：蓝色边框

- **菜单行为**：
  - 点击外部自动关闭
  - 支持键盘导航
  - 快捷键高亮显示

#### 4.6.5 潜在问题和优化建议

**已识别问题**
1. 菜单项较多，可能拥挤
2. 状态指示不够明显
3. 缺少个性化设置

**优化建议**
1. 支持菜单项自定义
2. 增强状态视觉反馈
3. 添加菜单动画效果

---

### 4.7 热力图视图 (HeatmapView)

#### 4.7.1 功能概述

HeatmapView 以日历热力图的形式展示用户的使用频率和记录分布，提供数据洞察。

#### 4.7.2 详细功能需求

**4.7.2.1 热力图显示**

- **日历布局**
  - 显示当前年份
  - 12个月份的网格布局
  - 每周7列（周一到周日）
  - 每月列数根据实际天数

- **颜色映射**
  - 无记录：最浅色
  - 低频率：浅色
  - 中频率：中等色
  - 高频率：深色
  - 最高频率：最深色

- **数据展示**
  - 每天的记录数量
  - 月份标题
  - 星期标签

**4.7.2.2 交互功能**

- **悬停提示**
  - 显示具体日期
  - 显示记录数量
  - 显示详细统计

- **点击筛选**
  - 点击某天筛选该日记录
  - 点击月份标题筛选该月
  - 支持多选筛选

- **缩放功能**
  - 支持缩放到年视图
  - 支持缩放到月视图
  - 支持缩放到日视图

**4.7.2.3 数据管理**

- **数据统计**
  - 按天统计记录数
  - 按月统计记录数
  - 按年统计记录数
  - 最近7天趋势

- **数据更新**
  - 实时响应新记录
  - 自动更新热力图
  - 历史数据回显

#### 4.7.3 业务流程

**热力图生成流程**
```
1. 获取所有记录
2. 按日期分组统计
3. 计算频率范围
4. 生成颜色映射
5. 构建网格数据
6. 渲染热力图
7. 添加交互事件
```

#### 4.7.4 交互规则

- **颜色规则**：使用5级颜色深度表示频率
- **悬停延迟**：悬停0.5秒显示提示
- **点击行为**：单击筛选，双击查看详情
- **缩放级别**：支持3级缩放（年/月/日）

#### 4.7.5 潜在问题和优化建议

**已识别问题**
1. 颜色对比度可能不足
2. 悬停提示位置固定
3. 缺少数据导出

**优化建议**
1. 优化颜色方案，提高可读性
2. 智能调整提示位置
3. 添加数据导出功能
4. 支持自定义时间范围

---

### 4.8 设置界面 (SettingsOverlayView)

#### 4.8.1 功能概述

SettingsOverlayView 提供完整的设置界面，允许用户配置应用的各项参数和偏好。

#### 4.8.2 详细功能需求

**4.8.2.1 AI 设置**

- **服务选择**
  - 选择 AI 服务提供商
  - 本地模式开关
  - OpenAI 模式开关

- **OpenAI 配置**
  - API Key 输入和验证
  - 模型选择
  - 温度参数设置
  - 最大 token 数设置
  - API 连接测试

- **处理设置**
  - 自动提炼开关
  - 提炼阈值设置
  - 批量处理配置

**4.8.2.2 记录设置**

- **存储管理**
  - 记录数量限制
  - 自动清理设置
  - 存储位置配置

- **去重设置**
  - 去重时间窗口
  - 去重敏感度
  - 重复记录处理策略

- **导出设置**
  - 导出格式选择
  - 导出路径配置
  - 自动导出开关

**4.8.2.3 蓝牙设置**

- **设备管理**
  - 扫描和添加设备
  - 设备连接配置
  - 设备删除和重命名

- **连接设置**
  - 自动连接开关
  - 连接超时设置
  - 重连间隔配置

- **事件设置**
  - 按钮事件映射
  - 防抖时间设置
  - 事件确认机制

**4.8.2.4 窗口设置**

- **外观设置**
  - 主题颜色选择
  - 透明度调节
  - 字体大小设置
  - 圆角大小配置

- **行为设置**
  - 启动时显示
  - 最小化到托盘
  - 点击外部关闭
  - 动画开关

- **位置设置**
  - 默认位置
  - 边界吸附
  - 多显示器配置

**4.8.2.5 快捷键设置**

- **全局快捷键**
  - 显示/隐藏悬浮窗
  - 快速采集
  - 打开设置

- **应用内快捷键**
  - 搜索
  - 新建记录
  - 导出
  - 退出

- **快捷键冲突检测**
  - 检测系统快捷键冲突
  - 检测应用间冲突
  - 冲突提示和建议

#### 4.8.3 业务流程

**设置保存流程**
```
1. 用户修改设置项
2. 验证输入有效性
3. 保存到 PreferencesManager
4. 如果涉及 Keychain：
   - 保存到 Keychain
   - 验证保存成功
5. 发送设置变更通知
6. 更新 UI 反馈
7. 应用新设置
```

#### 4.8.4 交互规则

- **验证规则**：
  - API Key 格式验证
  - 数值范围验证
  - 快捷键冲突检查

- **保存规则**：
  - 实时保存（防抖）
  - 手动保存确认
  - 恢复默认设置

- **反馈规则**：
  - 保存成功提示
  - 保存失败错误
  - 设置变更确认

#### 4.8.5 潜在问题和优化建议

**已识别问题**
1. 设置项较多，界面可能拥挤
2. 缺少设置导入/导出
3. 部分设置需要重启生效

**优化建议**
1. 优化界面布局，分组显示
2. 添加设置模板功能
3. 实现热更新机制
4. 添加设置搜索功能

---

### 4.9 偏好设置管理 (PreferencesManager)

#### 4.9.1 功能概述

PreferencesManager 负责管理应用的所有用户偏好设置，包括界面配置、行为设置等。

#### 4.9.2 详细功能需求

**4.9.2.1 基础设置**

- **界面配置**
  - 主题模式（浅色/深色/跟随系统）
  - 字体大小
  - 窗口透明度
  - 动画开关

- **行为配置**
  - 启动时运行
  - 最小化到托盘
  - 自动检查更新
  - 发送使用统计

**4.9.2.2 高级设置**

- **性能配置**
  - 搜索索引大小
  - 缓存清理间隔
  - 内存使用限制
  - 后台任务设置

- **安全配置**
  - 自动锁定时间
  - 数据加密开关
  - 隐私模式
  - 安全退出确认

**4.9.2.3 数据管理**

- **设置持久化**
  - UserDefaults 存储
  - Keychain 安全存储
  - 配置文件备份
  - 设置同步

- **设置同步**
  - 本地同步
  - 云同步（未来功能）
  - 多设备同步

#### 4.9.3 业务流程

**设置读取流程**
```
1. 初始化 PreferencesManager
2. 从 UserDefaults 读取设置
3. 如果不存在：
   - 使用默认值
   - 保存默认设置
4. 加载到内存
5. 发送设置加载完成通知
```

**设置更新流程**
```
1. 接收设置变更请求
2. 验证新值有效性
3. 更新内存中的设置
4. 保存到 UserDefaults
5. 如果涉及安全数据：
   - 保存到 Keychain
6. 发送设置变更通知
7. 应用新设置
```

#### 4.9.4 数据结构

```swift
struct Preferences {
    // 界面设置
    var themeMode: ThemeMode
    var fontSize: CGFloat
    var windowOpacity: Double
    var animationsEnabled: Bool

    // 行为设置
    var launchAtLogin: Bool
    var minimizeToTray: Bool
    var autoCheckUpdate: Bool
    var sendUsageStats: Bool

    // 高级设置
    var searchIndexSize: Int
    var cacheCleanupInterval: TimeInterval
    var memoryLimit: Int
    var backgroundTasksEnabled: Bool

    // 安全设置
    var autoLockTime: TimeInterval
    var dataEncryptionEnabled: Bool
    var privacyMode: Bool
    var secureExitConfirmation: Bool
}
```

#### 4.9.5 交互规则

- **默认值规则**：所有设置都有合理的默认值
- **类型安全**：使用类型化设置，避免字符串错误
- **实时生效**：大部分设置实时生效，无需重启
- **向后兼容**：新版本兼容旧版本设置

#### 4.9.6 潜在问题和优化建议

**已识别问题**
1. 设置分散，缺乏统一管理
2. 缺少设置验证机制
3. 无法回滚到之前的设置

**优化建议**
1. 实现设置版本管理
2. 添加设置验证器
3. 支持设置快照和回滚
4. 添加设置变更日志

---

### 4.10 快捷键管理 (KeyboardShortcutManager)

#### 4.10.1 功能概述

KeyboardShortcutManager 管理应用的所有快捷键，包括全局快捷键和应用内快捷键。

#### 4.10.2 详细功能需求

**4.10.2.1 全局快捷键**

- **快捷键注册**
  - 注册系统级快捷键
  - 支持组合键
  - 避免与系统快捷键冲突

- **快捷键监听**
  - 全局键盘事件监听
  - 快捷键触发检测
  - 快速响应机制

**4.10.2.2 应用内快捷键**

- **快捷键映射**
  - 定义快捷键和功能的映射
  - 支持多快捷键对应一功能
  - 支持一快捷键对应多功能（上下文相关）

- **快捷键执行**
  - 快捷键触发
  - 功能执行
  - 状态反馈

**4.10.2.3 快捷键配置**

- **自定义快捷键**
  - 用户可修改快捷键
  - 快捷键冲突检测
  - 快捷键录制

- **快捷键管理**
  - 快捷键列表
  - 快捷键导入/导出
  - 恢复默认快捷键

#### 4.10.3 业务流程

**快捷键注册流程**
```
1. 定义快捷键组合
2. 检查是否与系统冲突
3. 注册到系统
4. 添加事件监听
5. 测试快捷键有效性
```

**快捷键触发流程**
```
1. 检测键盘事件
2. 判断是否匹配注册的快捷键
3. 如果匹配：
   - 停止事件传播
   - 执行对应功能
   - 返回处理结果
4. 如果不匹配：
   - 继续事件传播
   - 返回未处理
```

#### 4.10.4 交互规则

- **优先级规则**：
  - 系统快捷键优先
  - 应用内快捷键次之
  - 自定义快捷键最后

- **冲突处理**：
  - 检测冲突并提示
  - 提供替代建议
  - 允许强制覆盖

- **上下文规则**：
  - 应用激活时才响应
  - 根据当前界面调整行为
  - 支持快捷键组合

#### 4.10.5 潜在问题和优化建议

**已识别问题**
1. 快捷键配置界面缺失
2. 冲突检测不完善
3. 缺少快捷键提示

**优化建议**
1. 添加快捷键配置界面
2. 完善冲突检测算法
3. 在界面中显示快捷键提示
4. 支持快捷键分组管理

---

## 5. 非功能性需求

### 5.1 性能需求

**5.1.1 响应时间**

- **启动时间**：应用启动时间不超过 3 秒
- **界面响应**：UI 操作响应时间不超过 100ms
- **搜索响应**：搜索结果展示不超过 500ms（1000条记录内）
- **AI 处理**：本地模式不超过 1 秒，云端模式不超过 5 秒

**5.1.2 并发性能**

- **蓝牙连接**：支持同时连接最多 3 个设备
- **搜索并发**：支持 5 个并发搜索请求
- **AI 处理**：支持 3 个并发 AI 请求

**5.1.3 资源占用**

- **内存占用**：空闲时不超过 100MB
- **CPU 占用**：空闲时不超过 5%
- **磁盘空间**：安装包不超过 50MB

### 5.2 可用性需求

**5.2.1 可靠性**

- **正常运行时间**：99.9%
- **故障恢复**：自动恢复时间不超过 30 秒
- **数据完整性**：数据丢失率小于 0.001%

**5.2.2 可维护性**

- **模块化设计**：高内聚低耦合
- **日志记录**：完整的操作日志
- **错误追踪**：详细的错误信息

**5.2.3 可扩展性**

- **功能扩展**：支持插件化扩展
- **性能扩展**：支持水平扩展
- **用户扩展**：支持用户自定义功能

### 5.3 兼容性需求

**5.3.1 系统兼容性**

- **macOS 版本**：支持 macOS 12.0 及以上版本
- **硬件兼容**：支持 Intel 和 Apple Silicon 芯片
- **分辨率**：支持 1280x800 及以上分辨率

**5.3.2 设备兼容性**

- **蓝牙设备**：支持 Bluetooth 4.0 及以上
- **外设兼容**：支持常见蓝牙键盘和鼠标

### 5.4 安全性需求

**5.4.1 数据安全**

- **本地存储**：使用 Core Data 加密
- **敏感数据**：API Key 使用 Keychain 存储
- **数据传输**：HTTPS 加密传输

**5.4.2 访问控制**

- **权限验证**：关键操作需要权限验证
- **用户隔离**：多用户环境下的数据隔离
- **安全退出**：安全退出机制

### 5.5 用户体验需求

**5.5.1 易用性**

- **学习成本**：新用户 5 分钟内上手
- **操作便捷**：常用功能 3 步内完成
- **界面直观**：图标和文字清晰易懂

**5.5.2 可访问性**

- **键盘导航**：支持完整的键盘操作
- **屏幕阅读器**：支持 VoiceOver
- **高对比度**：支持高对比度模式

**5.5.3 一致性**

- **界面一致**：遵循 macOS 设计规范
- **交互一致**：统一的交互模式
- **术语一致**：统一的术语使用

---

## 6. 用户界面需求

### 6.1 设计原则

**6.1.1 简洁性**

- 界面简洁明了
- 功能分区清晰
- 操作流程简单

**6.1.2 一致性**

- 遵循 macOS 设计规范
- 统一的视觉风格
- 一致的交互模式

**6.1.3 可用性**

- 高可用性设计
- 容错能力强
- 恢复机制完善

**6.1.4 美观性**

- 现代化设计
- 视觉效果优美
- 动画流畅自然

### 6.2 界面布局

**6.2.1 悬浮窗布局**

```
┌─────────────────────────────────────┐
│  ┌─────────────┐  ┌────────────────┐ │
│  │   侧边栏     │  │   主内容区      │ │
│  │             │  │                │ │
│  │ • 热力图     │  │ • 记录列表     │ │
│  │ • 搜索      │  │ • 记录卡片     │ │
│  │ • 快速操作   │  │ • 操作按钮     │ │
│  │             │  │                │ │
│  │             │  │                │ │
│  └─────────────┘  └────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │           Toast 提示            │ │
│  └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

**6.2.2 设置界面布局**

```
┌─────────────────────────────────────┐
│  标签页导航                          │
├─────────────────────────────────────┤
│  ┌─────────────────────────────────┐ │
│  │                                 │ │
│  │         设置内容区               │ │
│  │                                 │ │
│  │                                 │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────┬──────────────────┐ │
│  │   保存按钮   │   取消按钮       │ │
│  └─────────────┴──────────────────┘ │
└─────────────────────────────────────┘
```

### 6.3 视觉设计

**6.3.1 颜色方案**

- **主色调**：蓝色系 (#3B82F6)
- **辅助色**：灰色系 (#6B7280)
- **强调色**：绿色系 (#10B981)
- **警告色**：红色系 (#EF4444)

**6.3.2 字体规范**

- **主字体**：SF Pro (系统默认)
- **标题字体**：20pt
- **正文字体**：14pt
- **辅助文字**：12pt

**6.3.3 图标设计**

- **图标风格**：线性图标，Lucide 风格
- **图标尺寸**：16x16, 20x20, 24x24
- **图标颜色**：跟随主题色

### 6.4 动画效果

**6.4.1 进入动画**

- **淡入效果**：透明度 0.0 → 1.0
- **缩放效果**：缩放 0.8 → 1.0
- **位移动画**：从下方轻微上移
- **动画时长**：0.2 - 0.3 秒

**6.4.2 交互动画**

- **按钮悬停**：轻微放大 (1.0 → 1.05)
- **点击反馈**：按下缩小 (1.0 → 0.95)
- **加载动画**：旋转指示器
- **过渡动画**：平滑过渡效果

**6.4.3 状态动画**

- **加载状态**：骨架屏动画
- **成功状态**：绿色波纹扩散
- **错误状态**：红色闪烁效果
- **警告状态**：黄色脉冲效果

### 6.5 响应式设计

**6.5.1 窗口大小适配**

- **最小尺寸**：800x600
- **推荐尺寸**：1200x800
- **最大尺寸**：支持全屏
- **自适应布局**：内容自动调整

**6.5.2 多显示器适配**

- **主显示器优先**：默认在主显示器显示
- **记忆位置**：记住上次显示位置
- **边界处理**：自动吸附到屏幕边缘

---

## 7. 数据管理需求

### 7.1 数据模型

**7.1.1 核心实体**

```swift
// 记录实体
struct Record {
    id: UUID
    title: String
    content: String
    timestamp: Date
    sha1: String
    isStarred: Bool
    aiSummary: String?
    isAiProcessed: Bool
    aiProvider: String?
}

// 设备实体
struct Device {
    id: UUID
    name: String?
    rssi: NSNumber?
    isConnected: Bool
    peripheral: CBPeripheral?
}

// 偏好设置
struct Preferences {
    themeMode: ThemeMode
    fontSize: CGFloat
    windowOpacity: Double
    animationsEnabled: Bool
    // ... 其他设置
}
```

### 7.2 数据存储

**7.2.1 本地存储**

- **Core Data**：主要数据存储
- **UserDefaults**：用户偏好设置
- **Keychain**：敏感数据存储
- **缓存**：临时数据缓存

**7.2.2 存储策略**

- **热数据**：最近 100 条记录常驻内存
- **冷数据**：历史数据按需加载
- **索引**：建立搜索索引
- **备份**：定期自动备份

### 7.3 数据同步

**7.3.1 本地同步**

- **实时同步**：内存和 Core Data 实时同步
- **增量同步**：只同步变更的数据
- **冲突解决**：最后写入优先

**7.3.2 云端同步（未来功能）**

- **云存储**：iCloud 或第三方云服务
- **版本控制**：支持数据版本管理
- **冲突检测**：智能冲突解决

### 7.4 数据安全

**7.4.1 数据加密**

- **传输加密**：HTTPS/TLS
- **存储加密**：Core Data 加密
- **密钥管理**：Keychain 安全存储

**7.4.2 数据备份**

- **自动备份**：定期自动备份
- **手动备份**：用户手动触发
- **备份恢复**：支持从备份恢复

### 7.5 数据清理

**7.5.1 自动清理**

- **过期清理**：自动清理过期数据
- **空间清理**：定期清理缓存
- **日志清理**：清理旧的日志文件

**7.5.2 手动清理**

- **选择性删除**：用户选择删除
- **批量清理**：批量删除功能
- **清空所有**：一键清空功能

---

## 8. 集成需求

### 8.1 硬件集成

**8.1.1 蓝牙设备**

- **协议支持**：Bluetooth 4.0+
- **服务 UUID**：0x180F (可配置)
- **特征 UUID**：0x2A19, 0x2A1A, 0x2A1B
- **数据格式**：自定义二进制格式

**8.1.2 系统集成**

- **剪贴板集成**：监听 NSPasteboard
- **状态栏集成**：NSStatusBar
- **通知中心集成**：NSUserNotificationCenter

### 8.2 第三方服务集成

**8.2.1 OpenAI API**

- **认证方式**：API Key
- **请求格式**：JSON
- **响应格式**：JSON
- **错误处理**：标准错误码

**8.2.2 图标库集成**

- **Lucide 图标**：使用 Lucide-Swift 库
- **图标映射**：自定义图标名称
- **图标主题**：支持主题切换

### 8.3 开发工具集成

**8.3.1 构建系统**

- **Swift Package Manager**：依赖管理
- **Xcode**：开发和调试
- **CI/CD**：GitHub Actions

**8.3.2 测试框架**

- **XCTest**：单元测试
- **UI Testing**：界面测试
- **性能测试**：性能基准测试

---

## 9. 性能需求

### 9.1 响应性能

**9.1.1 界面响应**

- **启动时间**：≤ 3 秒
- **界面切换**：≤ 100ms
- **搜索响应**：≤ 500ms (1000条记录)
- **动画流畅度**：≥ 60 FPS

**9.1.2 数据操作**

- **新增记录**：≤ 100ms
- **删除记录**：≤ 100ms
- **搜索操作**：≤ 500ms
- **批量操作**：≤ 2 秒 (100条记录)

### 9.2 资源使用

**9.2.1 内存使用**

- **空闲状态**：≤ 100MB
- **正常使用**：≤ 200MB
- **峰值状态**：≤ 500MB

**9.2.2 CPU 使用**

- **空闲状态**：≤ 5%
- **正常使用**：≤ 20%
- **峰值状态**：≤ 50%

**9.2.3 磁盘使用**

- **安装大小**：≤ 50MB
- **数据存储**：≤ 100MB (1年使用)
- **缓存大小**：≤ 50MB

### 9.3 网络性能

**9.3.1 API 调用**

- **连接时间**：≤ 1 秒
- **响应时间**：≤ 3 秒
- **超时时间**：≤ 5 秒
- **重试机制**：最多 3 次

**9.3.2 带宽优化**

- **请求压缩**：启用 gzip 压缩
- **响应缓存**：智能缓存策略
- **批量请求**：减少请求次数

### 9.4 并发性能

**9.4.1 并发连接**

- **蓝牙连接**：支持 3 个并发
- **网络请求**：支持 5 个并发
- **数据库操作**：支持 3 个并发

**9.4.2 资源竞争**

- **锁机制**：细粒度锁
- **死锁预防**：避免循环等待
- **资源池**：连接池管理

---

## 10. 安全需求

### 10.1 数据安全

**10.1.1 本地安全**

- **数据加密**：Core Data 加密
- **密钥管理**：Keychain 安全存储
- **访问控制**：系统权限控制

**10.1.2 传输安全**

- **HTTPS**：强制使用 HTTPS
- **证书验证**：SSL 证书验证
- **中间人攻击防护**：证书固定

### 10.2 用户隐私

**10.2.1 数据收集**

- **最小化原则**：只收集必要数据
- **用户同意**：明确的用户同意
- **数据用途**：明确的数据使用说明

**10.2.2 数据共享**

- **第三方共享**：明确的共享协议
- **数据删除**：用户可删除数据
- **数据导出**：用户可导出数据

### 10.3 应用安全

**10.3.1 代码安全**

- **代码混淆**：关键代码混淆
- **反调试**：反调试保护
- **完整性检查**：代码完整性验证

**10.3.2 运行时安全**

- **内存安全**：防止内存泄漏
- **异常处理**：完善的异常处理
- **日志安全**：敏感信息脱敏

### 10.4 合规性

**10.4.1 法律法规**

- **GDPR**：欧盟通用数据保护条例
- **CCPA**：加州消费者隐私法案
- **网络安全法**：符合中国网络安全法

**10.4.2 行业标准**

- **ISO 27001**：信息安全管理体系
- **OWASP**：Web 安全标准
- **NIST**：网络安全框架

---

## 11. 测试需求

### 11.1 测试策略

**11.1.1 测试级别**

- **单元测试**：测试单个模块
- **集成测试**：测试模块间交互
- **系统测试**：测试完整系统
- **验收测试**：用户验收测试

**11.1.2 测试类型**

- **功能测试**：验证功能正确性
- **性能测试**：验证性能指标
- **安全测试**：验证安全性
- **兼容性测试**：验证兼容性
- **可用性测试**：验证用户体验

### 11.2 测试覆盖

**11.2.1 代码覆盖**

- **覆盖率目标**：≥ 80%
- **关键路径**：100% 覆盖
- **边界条件**：全覆盖

**11.2.2 场景覆盖**

- **正常场景**：标准使用流程
- **异常场景**：错误处理流程
- **边界场景**：极限条件测试

### 11.3 测试工具

**11.3.1 自动化测试**

- **XCTest**：官方测试框架
- **XCUITest**：UI 自动化测试
- **Fastlane**：自动化测试流程

**11.3.2 性能测试**

- **Instruments**：性能分析工具
- **Time Profiler**：CPU 性能分析
- **Allocations**：内存使用分析

**11.3.3 安全测试**

- **静态分析**：代码安全扫描
- **动态分析**：运行时安全测试
- **渗透测试**：模拟攻击测试

### 11.4 测试环境

**11.4.1 开发环境**

- **Xcode**：最新稳定版本
- **模拟器**：各种设备模拟
- **真机**：真实设备测试

**11.4.2 测试环境**

- **测试服务器**：独立测试环境
- **测试数据**：模拟测试数据
- **测试工具**：专业测试工具

---

## 12. 发布计划

### 12.1 版本规划

**12.1.1 MVP 版本 (v1.0)**

- 核心功能完整
- 基础 UI/UX
- 蓝牙连接
- AI 提炼
- 数据存储

**12.1.2 完善版本 (v1.1)**

- 性能优化
- 用户反馈改进
- 新功能增强
- Bug 修复

**12.1.3 扩展版本 (v2.0)**

- 云同步功能
- 多设备支持
- 高级 AI 功能
- 企业版功能

### 12.2 发布流程

**12.2.1 开发阶段**

- 需求分析 (1周)
- 设计阶段 (2周)
- 开发阶段 (6周)
- 测试阶段 (3周)

**12.2.2 发布阶段**

- 内测版本 (1周)
- 公测版本 (2周)
- 正式发布 (1周)
- 后续维护 (持续)

### 12.3 发布渠道

**12.3.1 App Store**

- 官方审核发布
- 定期更新
- 用户评价管理

**12.3.2 官网发布**

- 直接下载
- 版本历史
- 更新日志

**12.3.3 第三方平台**

- GitHub 发布
- 开发者社区
- 技术论坛

---

## 13. 风险评估

### 13.1 技术风险

**13.1.1 高风险**

- **蓝牙兼容性**：不同设备兼容性问题
- **AI 服务依赖**：OpenAI API 变更风险
- **性能问题**：大量数据时的性能瓶颈

**13.1.2 中风险**

- **系统升级**：macOS 升级兼容性
- **第三方依赖**：依赖库的安全和维护
- **数据迁移**：版本升级时的数据迁移

**13.1.3 低风险**

- **UI 适配**：界面在不同分辨率的适配
- **功能实现**：常规功能的实现难度
- **测试覆盖**：测试用例的完整性

### 13.2 业务风险

**13.2.1 市场风险**

- **竞争压力**：同类产品的竞争
- **用户接受度**：用户对新产品的接受度
- **市场需求变化**：市场需求的变化

**13.2.2 运营风险**

- **用户增长**：用户增长不如预期
- **收入模式**：盈利模式的可行性
- **品牌影响**：产品质量对品牌的影响

### 13.3 管理风险

**13.3.1 项目风险**

- **进度延误**：开发进度延误
- **资源不足**：人力和物力资源不足
- **沟通问题**：团队沟通不畅

**13.3.2 质量风险**

- **代码质量**：代码质量不达标
- **测试不充分**：测试覆盖不全面
- **文档不完善**：文档缺失或不准确

### 13.4 风险缓解措施

**13.4.1 技术风险缓解**

- **技术调研**：充分的技术调研
- **原型验证**：关键功能原型验证
- **备选方案**：准备备选技术方案

**13.4.2 业务风险缓解**

- **市场调研**：深入的市场调研
- **用户反馈**：及时收集用户反馈
- **灵活调整**：根据市场灵活调整策略

**13.4.3 管理风险缓解**

- **项目管理**：规范的项目管理
- **质量控制**：严格的质量控制
- **团队建设**：加强团队建设

---

## 14. 附录

### 14.1 术语表

| 术语 | 解释 |
|------|------|
| AI | 人工智能，Artificial Intelligence |
| API | 应用程序接口，Application Programming Interface |
| BLE | 蓝牙低功耗，Bluetooth Low Energy |
| Core Data | Apple 的数据持久化框架 |
| GATT | 通用属性配置文件，Generic Attribute Profile |
| Keychain | Apple 的密钥链服务 |
| NSPanel | macOS 的浮动窗口类 |
| SwiftUI | Apple 的现代 UI 框架 |
| UUID | 通用唯一标识符 |
| SHA1 | 安全哈希算法 |

### 14.2 参考资料

1. [Apple Developer Documentation](https://developer.apple.com/documentation/)
2. [Swift Language Guide](https://docs.swift.org/swift-book/)
3. [CoreBluetooth Programming Guide](https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/AboutCoreBluetooth/Introduction.html)
4. [SwiftUI Tutorials](https://developer.apple.com/tutorials/swiftui/)
5. [OpenAI API Documentation](https://platform.openai.com/docs/)

### 14.3 相关文档

1. **技术设计文档**：详细的技术实现方案
2. **测试计划文档**：完整的测试策略和计划
3. **用户手册**：用户使用指南
4. **API 文档**：详细的 API 接口文档

### 14.4 联系方式

- **产品负责人**：[待填写]
- **技术负责人**：[待填写]
- **测试负责人**：[待填写]
- **项目邮箱**：[待填写]

---

## 文档审批

| 角色 | 姓名 | 签名 | 日期 |
|------|------|------|------|
| 产品负责人 | | | |
| 技术负责人 | | | |
| 测试负责人 | | | |
| 项目经理 | | | |

---

**文档结束**